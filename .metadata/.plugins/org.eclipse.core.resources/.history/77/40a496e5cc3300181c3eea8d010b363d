package com.dr.service.member;

import java.sql.SQLException;
import java.util.List;
import java.util.Map;

import com.dr.common.PageInfo;
import com.dr.model.member.DrMember;
import com.dr.model.member.MemberDataForCrm;

public interface DrMemberService {
	
	/**
	 * 查询会员
	 * @param member
	 * @param PageInfo pi
	 * @return PageInfo
	 */
    public PageInfo selectDrMemberList(DrMember member,PageInfo pi);
	/**
	 * 根据uid查询
	 * @param uid 会员id
	 * @return DrMember
	 */
    public DrMember queryDrMemberByUid(Integer uid);
    
    /**
     * 根据uid获取推荐人信息
     * @param uid 用户ID
     * @return
     */
    public DrMember queryReferrerMemberByUid(Integer uid);  
    
    public PageInfo selectRegMemberInfoByParam(Map<String, Object> map, PageInfo pi);
    
    /**
     * 批量修改普通会员为VIP会员
     * @param List<Integer>
     */
    public void batchUpdate(List<Integer> list) throws SQLException;
    
    /**
     *  每个季度把VIP用户设置成普通用户
     * @param List<Integer>
     */
	public void updateAllVIPForOrdinary() throws Exception;
	

    /**
     * 根据时间，查询这个时间段内新注册的用户for CRM
     * @param map
     * @return
     */
    public List<MemberDataForCrm> getNewRegUsers(Map<String, Object> map)throws Exception;
    
    /**
     * 根据时间，查询出这个时间段内，用户信息发生过更新的数据
     * @param map
     * @return
     */
    public List<MemberDataForCrm> getUsersForUpdate(Map<String, Object> map);

    Map<String,Object> getTitleParam(String startDate, String endDate);
    
    /**
     * 查询从wps活动过来的用户，并且已经绑卡未首投
     * @param map 
     * @return MemberList
     */
    public List<DrMember> selectWpsDrMemberList(Map<String,Object> map);
}
